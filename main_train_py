#IMPORTS
#-------------------------------------------#


import gymnasium as gym
import sumo_rl
from stable_baselines3 import PPO

#Funcion de recompensa

def fc_recompensa():
    reward = ""
    return reward

#Entorno

#Se sacan de SUMO
RED = "rotonda.xml" 
RUTA = "flujo.xml"


#Entorno de gym con sumo-rl

env = sumo_rl.SumoEnvironment(
    net_file=RED,
    route_file=RUTA,
    out_csv_name="resultadosSUMO.csv",
    use_gui=False, #Sin coches, revisar si mejor quitar
    num_seconds=0,
    min_green=0,
    delta_time=0,
    reward_fn=fc_recompensa,
    single_agent=True, #Revisar tambien, aunque sera single
)

#Modelo de RL
model = PPO #Revisar y a√±adir parametros

#Entrenar
print("Training started....")
model.learn(total_timesteps=2135)

#Guardar
model.save()
print("Entrenamiento terminado")